<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.25">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Training Resources – Item Response Warehouse</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-7b89279ff1a6dce999919e0e67d4d9ec.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-2b61f085d84397fbe8504ca29c1d9887.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-NM0Y0TP4RY"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-NM0Y0TP4RY', { 'anonymize_ip': true});
</script>


</head>

<body class="nav-fixed fullcontent quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="./index.html" class="navbar-brand navbar-brand-logo">
    </a>
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Item Response Warehouse</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./analysis.html"> 
<span class="menu-text">Getting Started with the IRW Data</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-irw-data" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">IRW Data</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-irw-data">    
        <li>
    <a class="dropdown-item" href="./data.html">
 <span class="dropdown-text">Browse the IRW Data</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./standard.html">
 <span class="dropdown-text">The IRW Data Standard</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./metadata.html">
 <span class="dropdown-text">Metadata for IRW tables</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./contribute.html">
 <span class="dropdown-text">Contributing Data to the IRW</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./docs.html">
 <span class="dropdown-text">Data Documentation</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./itemtext.html">
 <span class="dropdown-text">Item Text</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-competitions" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Competitions</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-competitions">    
        <li>
    <a class="dropdown-item" href="./comps_standard.html">
 <span class="dropdown-text">The Competition Data Standard</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-more" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">More</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-more">    
        <li>
    <a class="dropdown-item" href="./research.html">
 <span class="dropdown-text">Examples of IRW-related research</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./about.html">
 <span class="dropdown-text">About the IRW</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./training.html">
 <span class="dropdown-text">Training Resources</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./contact.html">
 <span class="dropdown-text">Contact Us!</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-bi-github" role="link" data-bs-toggle="dropdown" aria-expanded="false">
      <i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-bi-github">    
        <li>
    <a class="dropdown-item" href="https://github.com/itemresponsewarehouse/misc/tree/main/data">
 <span class="dropdown-text">Data processing</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://itemresponsewarehouse.github.io/Rpkg/">
 <span class="dropdown-text">irw: R package for managing IRW data</span></a>
  </li>  
    </ul>
  </li>
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Training Resources</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="imps-2025-datathon" class="level2">
<h2 class="anchored" data-anchor-id="imps-2025-datathon">IMPS 2025 Datathon</h2>
<section id="the-challenge-predicting-accuracy-of-executing-functioning-tasks" class="level3">
<h3 class="anchored" data-anchor-id="the-challenge-predicting-accuracy-of-executing-functioning-tasks">The Challenge: Predicting Accuracy of Executing Functioning tasks</h3>
<p>Your task is to develop predictive models leveraging information about the stimulus, response time, and demographic features to predict accuracy on a holdout sample. The Hearts and Flowers (H&amp;F) task is a cognitive task that measures inhibitory control and cognitive flexibility, two components of executive functions. For more information on this task from the group that collected these data, see <a href="https://sparklab.stanford.edu/ames">here</a>. A respondent is shown either a heart or flower on the left or right of the screen. If the shape is a heart, the respondent needs to press the button on the same side whereas if it is a flower they press the button on the opposite side. Participants respond to visual stimuli following simple (congruent: hearts or flowers) or conflicting (incongruent: hearts and flowers) rules. Key features of the dataset include:</p>
<ul>
<li><p>Different task conditions (congruent, incongruent, mixed)</p></li>
<li><p>Response time</p></li>
<li><p>Demographic variables (such as age)</p></li>
</ul>
<p>The data are structured in an Item Response Warehouse (IRW)-consistent format (more information available <a href="https://itemresponsewarehouse.org/standard.html">here</a>).</p>
</section>
<section id="the-data" class="level3">
<h3 class="anchored" data-anchor-id="the-data">The data</h3>
<p>The H&amp;F data for the competition were collected from a large urban district in the US. In particular, these data were collected in school environments. Students completed the Hearts and Flowers measures on digital devices during the school day.</p>
<p>The data are available here [to be posted June 9 2025].</p>
<ul>
<li><a href="https://www.dropbox.com/scl/fi/ofve08sfpkkfcw4fba258/imps2025_train.csv?rlkey=p3to1voy2ughnzoxv1nmbl7q7&amp;e=1&amp;st=skp9kftd&amp;dl=0">Training data</a></li>
<li><a href="https://www.dropbox.com/scl/fi/2xjpxdjzme9quzvfpsjgw/imps2025_test.csv?rlkey=z5rn1bv1qnoetg9ksmrr12u9l&amp;e=1&amp;st=eyrbel9y&amp;dl=0">Test data</a></li>
</ul>
<p>Note that we are posting two datasets. Best practice is to develop a predictive approach in the training dataset and then report accuracy in the test dataset.</p>
<section id="variables" class="level4">
<h4 class="anchored" data-anchor-id="variables">Variables</h4>
<p>In the competition, you need to predict whether the response is accurate.</p>
<ul>
<li><code>resp</code>: Response accuracy (1 = correct, 0 = incorrect).</li>
</ul>
<p>The following information is available for prediction.</p>
<ul>
<li><code>id</code>: Unique identifier for each respondent.</li>
<li><code>cov_grade</code>: Respondent’s current school grade level.</li>
<li><code>cov_female</code>: Respondent’s gender (0 = male, 1 = female).</li>
<li><code>cov_age</code>: Respondent’s age in years (numeric, continuous).</li>
<li><code>trial_num</code>: The trial number within the respondent’s task session (starts at 1).</li>
<li><code>resp_side</code>: Side on which the response was made (either “left” or “right”); can be ignored for scoring (see <code>resp</code>).</li>
<li><code>rt</code>: Response time in seconds.</li>
<li><code>block</code>: Block label indicating task phase (e.g., “practice”, or test condition).</li>
<li><code>time_limit</code>: Time limit in place for that particular data collection.</li>
<li><code>stim_side</code>: Side on which the stimulus was shown (“left” or “right”).</li>
<li><code>time</code>: Season during which data were collected (e.g., “Fall”).</li>
<li><code>stim_shape</code>: Shape of the stimulus shown on screen (e.g., “heart”, “floewr”).</li>
<li><code>cohort</code>: Condition or experimental grouping label (e.g., “plus”).</li>
</ul>
</section>
</section>
<section id="hints" class="level3">
<h3 class="anchored" data-anchor-id="hints">Hints</h3>
<p>We make a few observations about this data to help respondents get oriented with the H&amp;F data.</p>
<ul>
<li><p>The H&amp;F data involve relatively weakly defined ‘items’. Rather, persons respond to trials where the stimuli are varying in along several dimensions (e.g., side shape is presented on, what shape is presented, whether the trial is in one of the congruent or incongruent blocks, etc).</p></li>
<li><p>Response time is potentially a valuable predictor of response accuracy. In particular, note that there were different time limits in place at various points of data collection.</p></li>
</ul>
</section>
<section id="judging-criteria" class="level3">
<h3 class="anchored" data-anchor-id="judging-criteria">Judging criteria</h3>
<p>We note two criteria that will be used in judging this competition. Some attention will be paid to accuracy in the test dataset; in particular, <strong>please report the root mean squared error between predicted and observed responses in your report</strong>. Specifically, please report the root mean squared error between predicted probabilities (i.e., model-estimated probabilities of a correct response) and the actual binary responses (0 = incorrect, 1 = correct) in the test dataset. Note that there will also be a subjective evaluation of the degree to which the predictive approach is novel or forwards new insights about the nature of the response process.</p>
</section>
<section id="submission-instructions" class="level3">
<h3 class="anchored" data-anchor-id="submission-instructions">Submission Instructions</h3>
<p>Entrants should submit three components (using the below link).</p>
<ol type="1">
<li>A written report should be formatted using Times New Roman 12 point with double spacing and one-inch margins, following the structure below:</li>
</ol>
<ul>
<li><p>Cover page (one page maximum) including:</p>
<ul>
<li>Designated Team Lead’s name, email, and affiliation with a graduate program;</li>
<li>Name of other team members and their affiliation with a graduate program;</li>
<li>Name of the presenter (can be different from the team lead but must be one of the team members) and email.</li>
</ul></li>
<li><p>Description (five pages maximum) including:</p>
<ul>
<li>Research question</li>
<li>Methodology</li>
<li>Key findings <strong>including the RMSE between predicted and actual accuracy in the test dataset</strong></li>
<li>Implications</li>
<li>References, optional (one page maximum)</li>
</ul></li>
</ul>
<ol start="2" type="1">
<li>Analysis code to ensure reproducibility.</li>
<li>Visualizations or slides to effectively communicate insights.</li>
</ol>
<p>Submissions need to be made <a href="https://forms.gle/3GRpyBq9jdWUW7cS8">here</a>.</p>
</section>
<section id="suggested-readings" class="level3">
<h3 class="anchored" data-anchor-id="suggested-readings">Suggested Readings</h3>
<ul>
<li><p>Camerota, M., Willoughby, M. T., Magnus, B. E., &amp; Blair, C. B. (2020). Leveraging item accuracy and reaction time to improve measurement of child executive function ability. Psychological Assessment, 32(12), 1118–1132. <a href="https://doi.org/10.1037/pas0000953" class="uri">https://doi.org/10.1037/pas0000953</a></p></li>
<li><p>Domingue, B.W., Braginsky, M., Caffrey-Maffei, L., Gilbert, J.B., Kanopka, K., Kapoor, R., Liu, Y., Nadela, S., Pan, G., Zhang, L., Zhang, S., &amp; Frank, M. (2025). Solving the problem of data in psychometrics: An introduction to the Item Response Warehouse (IRW). PsyArXiv. <a href="https://doi.org/10.31234/osf.io/7bd54" class="uri">https://doi.org/10.31234/osf.io/7bd54</a></p></li>
<li><p>Obradović, J., Sulik, M. J., Finch, J. E., &amp; Tirado-Strayer, N. (2018). Assessing students’ executive functions in the classroom: Validating a scalable group-based procedure. Journal of Applied Developmental Psychology, 55, 4-13. <a href="https://psycnet.apa.org/record/2018-17703-003" class="uri">https://psycnet.apa.org/record/2018-17703-003</a></p></li>
<li><p>Stanford Project on Adaptation and Resilience in Kids. (n.d.). Assessment of Motivation, Effort, and Self-Regulation (AMES). Stanford University. Retrievable from <a href="https://sparklab.stanford.edu/ames" class="uri">https://sparklab.stanford.edu/ames</a></p></li>
<li><p>Wu, T., Weiland, C., McCormick, M., Hsueh, J., Snow, C., &amp; Sachs, J. (2024). One Score to Rule Them All? Comparing the Predictive and Concurrent Validity of 30 Hearts and Flowers Scoring Approaches. Assessment, 31(8), 1702-1720. <a href="https://journals.sagepub.com/doi/10.1177/10731911241229566" class="uri">https://journals.sagepub.com/doi/10.1177/10731911241229566</a></p></li>
</ul>
</section>
</section>
<section id="v-international-meeting-of-psychometrics-and-neuropsychological-evaluation" class="level2">
<h2 class="anchored" data-anchor-id="v-international-meeting-of-psychometrics-and-neuropsychological-evaluation">V International Meeting of Psychometrics and Neuropsychological Evaluation</h2>
<p>Slides for <a href="https://psychometricsmeetig.netlify.app/">this meeting</a> can be found <a href="https://docs.google.com/presentation/d/15UYpmrzKyi0g5v6IDyn7tYe45AzrVu0bnMLmIpLnI6U/edit?slide=id.g34a2d561067_0_0#slide=id.g34a2d561067_0_0">here</a>.</p>
</section>
<section id="iomw-2025" class="level2">
<h2 class="anchored" data-anchor-id="iomw-2025">IOMW 2025</h2>
<p>Information here pertains to the April 2025 demonstration of the IRW at the <a href="https://www.iomw.net/">IOMW conference</a> held in Boulder, CO. Slides for this training can be found <a href="https://docs.google.com/presentation/d/1ZOcMpaRwBfBF9xBdgdO6KBHm7xiGlq6n9WczI2oCrX8/edit?slide=id.g3334d2a9abd_0_4#slide=id.g3334d2a9abd_0_4">here</a>. Prior to attending the conference, please go through the following checklist:</p>
<ul>
<li><p><strong>Install R and the necessary packages.</strong> We will be working with R. Make sure you have <a href="https://www.r-project.org/">R installed</a>. We will also use some specific packages that you will need to install. Please follow the instructions <a href="https://github.com/ben-domingue/irw/blob/main/training/iomw2025/00_packages.R">here</a>.</p></li>
<li><p><strong>Download the necessary data.</strong> Please download the zip file <a href="https://www.dropbox.com/scl/fi/mplmps10t7z7p8ljyo6km/tables.zip?rlkey=mde08yuex0jjvr80wchercb6b&amp;e=1&amp;dl=0">here</a> and store is so that you can access it readily during the training. This file will make it possible to follow along without depending on Redivis authentication.</p></li>
<li><p><strong>Prepare to interact with IRW data.</strong> I will discuss several methods of interacting with IRW data. These methods require a few minutes of preparation. You only need to choose one of them and <em>I recommend you try the second</em>.</p>
<ul>
<li><p>You can use a Redivis notebook. To get started, go <a href="https://redivis.com/workflows/sdv7-7r839my4g/notebooks/vma9-89a2etg40">here</a>. If you have not previously used Redivis you will need to create an account. After doing so, you can attempt to run the code (and should be good to go if you can run the lines showing the first few rows of the dataset). To run the code, you will first need to <code>fork</code> the notebook (choose <code>clone this workflow</code>) and then you should be able to ‘start notebook’ and execute the code blocks.</p></li>
<li><p>You can use <code>irw</code> (the preferred option). To do so, you will need to follow the instructions shown <a href="https://github.com/itemresponsewarehouse/Rpkg">here</a>. If you plan to work with the data this way, you can test that you are set up to do so by trying to successfully execute the following in your local R environment:</p>
<pre><code>df&lt;-irw::irw_fetch("DART_Brysbaert_2020_1")
head(df)</code></pre></li>
</ul></li>
</ul>
<p>We recommend working with <code>irw</code> given that you can work in your local environment and utilize the filtering techniques we are developing. Please let me know (email ben.domingue at gmail.com) if you have any problems/questions!</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/itemresponsewarehouse\.org");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>